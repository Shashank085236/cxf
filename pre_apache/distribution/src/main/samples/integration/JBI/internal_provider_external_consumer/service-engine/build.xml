<project name="jbi-demo-service-engine" default="build">

  <property name="build.dir" location="./build"/>
  <property name="build.classes.dir" location="${build.dir}/classes"/>
  <property name="build.lib.dir" location="${build.dir}/lib"/>
  <property name="src.dir" location="./src"/>

  <property file="../build.properties"/>
  
  <path id="build.classpath">
    <fileset dir="${celtix.home}/lib">
      <include name="celtix.jar"/>
    </fileset>
    <pathelement location="${jbi.sdk.dir}/jbi.jar"/>
    <pathelement location="./build/classes"/>
  </path>
  
  <target name="build" depends="build-service-engine"/>

  <target name="build-service-engine">
    <mkdir dir="${build.lib.dir}"/>

    <jar destfile="${build.lib.dir}/celtix-service-engine.jar">
      <fileset dir="${celtix.home}/lib">
	<include name="*.jar"/>
      </fileset>
      <metainf dir="./etc">
	<include name="jbi.xml"/>
	<include name="celtix-config.xml"/>
      </metainf>
    </jar>
  </target>

  <target name="clean">
    <delete dir="${build.dir}"/>
  </target>

</project>

