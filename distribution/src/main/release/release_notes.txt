Apache CXF 2.1.6 Release Notes

1. Overview

Apache CXF 2.1.6 delivers the latest set of patches and bug fixes for the Apache
CXF 2.1.x branch.   This release fixes 74 JIRA issues that have been reported by 
users.

2. Installation Prerequisites 

Before installing Apache CXF, make sure the following products,
with the specified versions, are installed on your system:

    * Java 5 Development Kit
    * Apache ant 1.6

2.1 Java 5 Development Kit

You must install the J2SE Development Kit (JDK) 5.0 or 6, which can be downloaded
from:

    http://java.sun.com/j2se/1.5.0/download.jsp

After installing the JDK, set or modify the following environment variables:

    * JAVA_HOME -- set this environment variable
      to point at the root directory of the JDK 5.0 installation.

    * PATH -- make sure that your PATH includes: 
      %JAVA_HOME%\bin  (Windows) 
      $JAVA_HOME/bin   (UNIX)

2.2 Apache Ant 1.6.5 (or newer, 1.7.0 should work as well)

To run samples included in the binary distribution of Apache CXF,
you must install the Apache Ant 1.6.5 build utility, which can be downloaded
from:

    http://ant.apache.org/bindownload.cgi

After installing Apache Ant, add the <AntInstallDir>/bin directory to your PATH.

For more details, see the Installation Guide.



3. Building the Samples

Building the samples included in the binary distribution is easy. Change to
the samples directory and follow the build instructions in the README.txt file 
included with each sample.

4. Errata

4.1 WS-Security
The WS-Security configuration mechanisms may change between this release and 
the next one as we add in support for WS-SecurityPolicy and WS-Trust.

5. Reporting Problems

If you have any problems or want to send feedback of any kind, please e-mail the
cxf dev list, cxf-dev@incubator.apache.org.  You can also file issues in JIRA at:

http://issues.apache.org/jira/browse/CXF


6. JAX-RS/JSR-311

2.1.2 upgraded the JAX-RS/JSR-311 support level to 0.8 from 0.6.   This may cause 
existing JAX-RS applications to fail.  JAX-RS/JSR-311 is a work in progress and as
the specification changes, we'll be updating the implementation to keep track with 
the specification.   However, users of JAX-RS are highly encouraged to migrate to 
CXF 2.2.2 or newer as the JAX-RS implementations there are fully JAX-RS 1.0 
compliant.


7. Specific issues, features, and improvements fixed in this version 

** Sub-task
    * [CXF-2185] - Handler protocol match fails when multiple protocols are specified

** Bug
    * [CXF-1079] - wsdl2java fails to genrate wrapped style
    * [CXF-1161] - Javadoc for classes generated XSD with WSDL is defective
    * [CXF-1822] - WSDL Schema Imports
    * [CXF-1852] - Provider classes must implement Provider<T> even when superclass does
    * [CXF-1880] - org.apache.cxf.xjc.ts.ToStringPlugin cannot be used with a 1.6 JVM
    * [CXF-1934] - -npa does not work in wsdl2java due to JAXB bug.
    * [CXF-1972] - cannot send MTOM attachment over 64K when server schema validation on
    * [CXF-1996] - NPE on JAXWS service initialization
    * [CXF-2083] - XMLBeans - XmlBeansSchemaInitializer can't handle xs:import
    * [CXF-2107] - wsdlLocation paramater and xmlbeans databinding throwing NPE
    * [CXF-2184] - XSD import statements do not apply given confguration
    * [CXF-2191] - cxf-codegen plugin does not accept files with (upper-case) .WSDL extension
    * [CXF-2201] - NullPointerException by XMLFormatValidator
    * [CXF-2203] - AttachmentSerializer content id incorrect
    * [CXF-2205] - Aegis databinding always trims strings
    * [CXF-2206] - Mapping jaxb types to "default" package causes exception
    * [CXF-2207] - JMS Transport send MTOM message as a TextMessage. The attachment becomes wrong.
    * [CXF-2210] - Change Jsr250BeanPostProcessor bean defination in cxf.xml
    * [CXF-2211] - Investigate possible OOM exception caused by Continuations
    * [CXF-2212] - SAAJInInterceptor creates a SAAJ SOAPFault with only one "Detail" child
    * [CXF-2213] - Currently CXF always produces true/false value for for mustUnderstand attribute irrespective of the SOAP version on the wire
    * [CXF-2219] - org.apache.cxf.service.model.OperationInformation should overwrite hash()
    * [CXF-2220] - Heavily reused "default" Work Queue Problem
    * [CXF-2221] - Missing Soap Headers
    * [CXF-2228] - WSDL2XML generated binding not passing correct method arguments in service implementation
    * [CXF-2229] - thread safe issue caused by XMLOutputFactoryImpl
    * [CXF-2241] - wsdl2java produces code with compile error, trying to instantiate abstract class
    * [CXF-2243] - JMSFactory.createJmsListener does not use property from JMSConfiguration to set the receiveTimeout on the constructed Spring DMLC
    * [CXF-2245] - Can't set orb properties in CorbaBindinfgFactory
    * [CXF-2250] - MessageContext.INBOUND_MESSAGE_ATTACHMENTS not working on client side
    * [CXF-2271] - autoNameResolution not working for wrapper elements
    * [CXF-2274] - HTTP transport assumes UTF-8 instead of ISO-8859-1 if charset not specified
    * [CXF-2279] - Current ConfigureImpl is not application refresh friendly
    * [CXF-2292] - Java first one-way operations generating faults
    * [CXF-2294] - HTTP-binding miss URL parameters for GET requests
    * [CXF-2295] - NullPointerException creating service proxy
    * [CXF-2298] - encryptionUser=useReqSigCert fails to find request certificate
    * [CXF-2300] - Generics not supported in response wrapper generation
    * [CXF-2302] - HTTP continuations are not working correctly if keep-alives are on
    * [CXF-2317] - NPE in WS-RM RetransmissionQueueImpl
    * [CXF-2318] - Invalid message created when using MTOM and WS-RM
    * [CXF-2325] - Provider services don't work with Spring AOP JDK proxies
    * [CXF-2328] - Corba Exceptions not being mapped correctly
    * [CXF-2329] - NullPointerException in JAXBEncoderDecoder when marshalling a null Array
    * [CXF-2331] - AbstractDataBinding makes invalid DOM mods with Java 1.6
    * [CXF-2332] - can't publish endpoint with XmlBeans databinding when build servicemodel from class
    * [CXF-2344] - attachment headers not copied into SAAJ message
    * [CXF-2349] - Space in namespace localName causes org.w3c.dom.DOMException: INVALID_CHARACTER_ERR
    * [CXF-2357] - The equals() method of JCA connection handle always return false.  
    * [CXF-2358] - autoNameResolution doesn't catch classes that differ only by case
    * [CXF-2359] - wss4jin stuff is only verifying the first signature and first timestamp
    * [CXF-2360] - soap.xsd in the soapbinding has the wrong elements
    * [CXF-2363] - ReplyDestinationName settings not used in JMSDestination

** Improvement
    * [CXF-2002] - Server async jms transport needs dynamic mechanism to throttle message consumption
    * [CXF-2113] - http:client configuration with Spring PropertyPlaceholderConfigurer
    * [CXF-2186] - Validate WSS headers using new checkReceiverResultsAnyOrder method in WSHandler.
    * [CXF-2209] - Add support for tomcat's context.xml in cxf webapp samples
    * [CXF-2246] - jaxws:endpoint should support to configure the transportId
    * [CXF-2278] - Implement serialize method on JaxbAssertions
    * [CXF-2289] - CachedOutputStream should continue keeping the message in memory if the creation of Temp file fails
    * [CXF-2299] - should catch RejectedExecutionException in OneWayProcessorInterceptor and run the task in caller thread
    * [CXF-2307] - PhaseInterceptorChain should log errors above INFO
    * [CXF-2316] - Allow JMS replyTo destination value be set on the outgoing messsage for a one-way call
    * [CXF-2327] - [SoapBindingFactory] Verify QName properties before calling constructor
    * [CXF-2336] - SOAP Binding (i.e. SOAP Version) of out going message should be same as incoming message
    * [CXF-2342] - Performance issue in StaxInInterceptor
    * [CXF-2343] - Improve Message Performance Under High Volume with Low Latency Consumers
    * [CXF-2350] - JBIConduitOutputStream should copy properties between JBI NormalizedMessage and cxf message invocation context
    * [CXF-2361] - Adding JBIBindingConfigure to configure the JBIBinding from the spring configuration 
    * [CXF-2364] - Allow SOAP address rewrite in wsdl according to the request call
    * [CXF-2366] - Allow for 1-way over JMS requests to set replyTo destination in JMS message when explicitly enabled

** New Feature
    * [CXF-1030] - JCA 1.5 support

** Test
    * [CXF-2248] - Added the unit tests for the spring configuration of JAXRSServerFactoryBean and JAXRSClientFactoryBean



