<project name="geronimo-ws" default="build" basedir=".">


  <!-- overload some properties to customize this build -->
  <property name="wsdl.dir" value="${basedir}/etc/wsdl"/>
  <property name="celtix.home" value="../../.."/>


  <import file="../../common_build.xml"/>

  <target name="build" depends="compile,build-war"/> 

  <target name="generate.code">
    <echo level="info" message="Generating code using wsdl2java..."/>
    <wsdl2java file="hello_world.wsdl"/>
  </target>

  <target name="build-war">
    <mkdir dir="./build/lib"/>
    <war destfile="build/lib/wspojo.war" webxml="./etc/web.xml">
      <webinf dir="etc">
	<include name="**/*.wsdl"/>
	<include name="geronimo-web.xml"/>
	<include name="mapping.xml"/>
	<include name="webservices.xml"/>
      </webinf>
      <classes dir="./build/classes"/>
    </war>
  </target>


  <target name="client" description="run demo client" depends="build">
    <property name="param" value=""/>
    <celtixrun classname="demo.hw.client.Client"
	       param1="${wsdl.dir}/hello_world.wsdl"/>
  </target> 


</project>