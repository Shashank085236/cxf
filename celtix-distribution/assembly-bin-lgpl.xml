<assembly>

    <id>bin-lgpl</id>
    <formats>
        <format>jar</format>
    </formats>
    <includeBaseDirectory>false</includeBaseDirectory>
    <fileSets>
        <fileSet>
            <includes>
                <include>Installer.class</include>
            </includes>
            <outputDirectory>celtixinstaller</outputDirectory>
            <directory>target/classes/celtixinstaller</directory>
        </fileSet>
        <fileSet>
            <includes>
                <include>README.txt</include>
                <include>NOTICE</include>
            </includes>
            <outputDirectory>celtix</outputDirectory>
        </fileSet>
        <fileSet>
            <directory>src/main/bin</directory>
            <outputDirectory>celtix/bin</outputDirectory>
            <fileMode>775</fileMode>
        </fileSet>
        <fileSet>
            <directory>src/main/etc</directory>
            <outputDirectory>celtix/etc</outputDirectory>
            <includes>
                <include>logging.properties</include>
                <include>log4j.properties</include>
                <include>web.xml</include>
            </includes>
        </fileSet>
        <fileSet>
            <directory>src/main/samples</directory>
            <outputDirectory>celtix/samples</outputDirectory>
            <excludes>
                <exclude>**/build</exclude>
                <exclude>**/build/**/*</exclude>
            </excludes>
        </fileSet>
        <fileSet>
            <directory>src/site/docs</directory>
            <outputDirectory>celtix/docs</outputDirectory>
            <includes>
                <include>**/*.pdf</include>
                <include>release_notes.txt</include>
            </includes>
        </fileSet>
        <fileSet>
            <directory>../celtix-api/src/main/resources</directory>
            <outputDirectory>celtix/resources</outputDirectory>
            <includes>
                <include>**/*</include>
            </includes>
        </fileSet>
        <fileSet>
            <directory>../celtix-router/src/main/resources</directory>
            <outputDirectory>celtix/resources</outputDirectory>
            <includes>
                <include>**/*</include>
            </includes>
        </fileSet>
        <fileSet>
            <directory>src/main/etc</directory>
            <outputDirectory>celtix/etc</outputDirectory>
            <includes>
                <include>**/*</include>
            </includes>
        </fileSet>
        <fileSet>
            <directory>.</directory>
            <outputDirectory>celtix</outputDirectory>
            <includes>
                <include>README.txt</include>
                <include>LICENSE-LGPL.txt</include>
            </includes>
        </fileSet>
        <fileSet>
            <directory>bin-distro</directory>
            <outputDirectory>celtix</outputDirectory>
            <includes>
                <include>*</include>
            </includes>
        </fileSet>
        <fileSet>
            <directory>tools</directory>
            <outputDirectory>celtix/lib</outputDirectory>
            <includes>
                <include>activemq/**/*</include>
            </includes>
            <excludes>
                <exclude>**/var/journal</exclude>
            </excludes>
        </fileSet>
        <fileSet>
            <directory>target/javadoc</directory>
            <outputDirectory>celtix/docs/api</outputDirectory>
            <includes>
                <include>**/*</include>
            </includes>
        </fileSet>
        <fileSet>
            <directory>target</directory>
            <outputDirectory>celtix/lib</outputDirectory>
            <includes>
                <include>celtix.jar</include>
            </includes>
        </fileSet>
    </fileSets>

    <dependencySets>
        <dependencySet>
            <outputDirectory>celtix/lib</outputDirectory>
            <unpack>false</unpack>
            <scope>runtime</scope>
			<excludes>
				<exclude>cglib:cglib-nodep</exclude>
				<exclude>commons-jelly:commons-jelly-tags-velocity</exclude>
				<exclude>geronimo:geronimo-common</exclude>
				<exclude>geronimo:geronimo-core</exclude>
				<exclude>geronimo:geronimo-deploy-config</exclude>
				<exclude>geronimo:geronimo-deployment</exclude>
				<exclude>geronimo:geronimo-j2ee-builder</exclude>
				<exclude>geronimo:geronimo-j2ee-schema</exclude>
				<exclude>geronimo:geronimo-j2ee</exclude>
				<exclude>geronimo:geronimo-kernel</exclude>
				<exclude>geronimo:geronimo-management</exclude>
				<exclude>geronimo:geronimo-naming-builder</exclude>
				<exclude>geronimo:geronimo-naming</exclude>
				<exclude>geronimo:geronimo-security-builder</exclude>
				<exclude>geronimo:geronimo-security</exclude>
				<exclude>geronimo:geronimo-service-builder</exclude>
				<exclude>geronimo:geronimo-system</exclude>
				<exclude>geronimo:geronimo-util</exclude>
				<exclude>geronimo:geronimo-webservices</exclude>
				<exclude>log4j:log4j</exclude>
				<exclude>org.apache.geronimo.specs:geronimo-activation_1.0.2_spec</exclude>
				<exclude>org.apache.geronimo.specs:geronimo-ejb_2.1_spec</exclude>
				<exclude>org.apache.geronimo.specs:geronimo-j2ee-deployment_1.1_spec</exclude>
				<exclude>org.apache.geronimo.specs:geronimo-j2ee-jacc_1.0_spec</exclude>
				<exclude>org.apache.geronimo.specs:geronimo-j2ee-management_1.0_spec</exclude>
				<exclude>org.apache.geronimo.specs:geronimo-jaxrpc_1.1_spec</exclude>
				<exclude>org.apache.geronimo.specs:geronimo-jaxr_1.0_spec</exclude>
				<exclude>org.apache.geronimo.specs:geronimo-jta_1.0.1B_spec</exclude>
				<exclude>org.apache.geronimo.specs:geronimo-qname_1.1_spec</exclude>
				<exclude>org.apache.geronimo.specs:geronimo-saaj_1.1_spec</exclude>
				<exclude>org.apache.geronimo.specs:geronimo-servlet_2.4_spec</exclude>
				<exclude>scout:scout</exclude>
				<exclude>velocity:velocity</exclude>
				<exclude>xbean:xbean</exclude>
				<exclude>xfire:xfire-java</exclude>
				<exclude>xfire:xfire</exclude>
				<exclude>xmlbeans:xbean</exclude>
			</excludes>
        </dependencySet>
    </dependencySets>

</assembly>