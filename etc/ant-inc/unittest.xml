<?xml version="1.0"?>
<project name="celtix-unittests" basedir="../..">
    <!-- Targets for running the unittests -->

    <target name="unit.test" description="Run the unit tests" depends="src.compile,unittest.compile">
        <mkdir dir="${basedir}/build/testresults/unit"/>
        <junit fork="yes" haltonfailure="yes">
            <formatter type="plain" usefile="false" />
            <formatter type="xml"/>
            <classpath>
                <pathelement location="${basedir}/build/classes-tests/unit"/>
                <pathelement location="${basedir}/build/classes"/>
                <path refid="jaxws.classpath"/>
            </classpath>

            <batchtest todir="${basedir}/build/testresults/unit">
                <fileset dir="${basedir}/build/classes-tests/unit">
                    <include name="**/*Test.class"/>
                    <include name="**/*Tests.class"/>
                </fileset>
            </batchtest>
        </junit>
    </target>

</project>
