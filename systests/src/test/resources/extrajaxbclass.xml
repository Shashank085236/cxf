<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:jaxws="http://cxf.apache.org/jaxws"
	xmlns:http="http://cxf.apache.org/transports/http/configuration"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
						http://cxf.apache.org/jaxws http://cxf.apache.org/schemas/jaxws.xsd
						http://cxf.apache.org/transports/http/configuration http://cxf.apache.org/schemas/configuration/http-conf.xsd">
						

		
	<!-- CXF -->
	<import resource="classpath:META-INF/cxf/cxf.xml" />
	<import resource="classpath:META-INF/cxf/cxf-extension-soap.xml" />
	<import resource="classpath:META-INF/cxf/cxf-extension-http-jetty.xml" />


	<!-- Services -->
	<jaxws:server id="testServer" serviceClass="org.apache.cxf.systest.jaxb.service.TestService" address="http://localhost:7081/service/TestService">
	
		<jaxws:properties>
			<entry key="jaxb.additionalContextClasses">
				<bean class="org.apache.cxf.systest.jaxb.util.ClassArrayFactoryBean">
					<property name="classNames">
						<list>
							<value>org.apache.cxf.systest.jaxb.model.ExtendedWidget</value>
						</list>
					</property>
				</bean>
			</entry>
		</jaxws:properties>
		
		<jaxws:serviceBean>
			<bean class="org.apache.cxf.systest.jaxb.service.TestServiceImpl" autowire="byName" />
		</jaxws:serviceBean>
		
	</jaxws:server>
	
	
	<!-- Client Proxy -->
	<jaxws:client id="testClient" address="http://localhost:7081/service/TestService" serviceClass="org.apache.cxf.systest.jaxb.service.TestService">
		<jaxws:inInterceptors>
			<bean class="org.apache.cxf.interceptor.LoggingInInterceptor" />
		</jaxws:inInterceptors>
		<jaxws:outInterceptors>
			<bean class="org.apache.cxf.interceptor.LoggingOutInterceptor" />
		</jaxws:outInterceptors>
	    <jaxws:properties>
			<entry key="jaxb.additionalContextClasses">
				<bean class="org.apache.cxf.systest.jaxb.util.ClassArrayFactoryBean">
					<property name="classNames">
						<list>
							<value>org.apache.cxf.systest.jaxb.model.ExtendedWidget</value>
						</list>
					</property>
				</bean>
			</entry>
        </jaxws:properties>	
	</jaxws:client>
	
				
</beans>

