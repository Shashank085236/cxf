<?xml version="1.0"?>
<project name="celtix" default="build" basedir=".">

    <target name="build" depends="src.compile,unittest.compile,unit.test" description="Main build target"/>

    <target name="cruisecontrol.build" depends="very.clean,build" description="Main target for cruisecontrol"/>

    <property environment="env"/>
    <fail unless="env.JAXWS_HOME">.
            The JAXWS_HOME  environment variable is unset.  We use the
            JAX-WS interfaces and the JAXB jars that are included in the
            JAX-WS 2.0 Early Access release.   You need to download that from
            https://jax-rpc.dev.java.net/jaxws20-ea2/, install it, and set
            the JAXWS_HOME environment variable to the installation
            directory.
    </fail>

    <!-- Find the location of the tools directory -->
    <import file="etc/ant-inc/tools.xml"/>

    <!-- Load the path definitions -->
    <import file="etc/ant-inc/paths.xml"/>

    <!-- Load the codegen targets -->
    <import file="etc/ant-inc/codegen.xml"/>

    <!-- Load the compile targets -->
    <import file="etc/ant-inc/compile.xml"/>

    <!-- Load the unit test targets -->
    <import file="etc/ant-inc/unittest.xml"/>

    <!-- Target to clean the build dir -->
    <target name="clean" description="Clean the build artifacts">
        <delete quiet="true" includeemptydirs="true">
            <fileset dir="build">
                 <include name="classes/**/*"/>
                 <include name="classes-tests/wsdl/**/*"/>
                 <include name="classes-tests/unit/**/*"/>
                 <include name="src/**/*"/>
                 <include name="test-src/**/*"/>
            </fileset>
        </delete>
        <delete quiet="true" dir="build/testresults"/>
    </target>
    <target name="very.clean" description="Clean the build artifacts and directories">
        <delete quiet="true" dir="build"/>
    </target>

</project>
